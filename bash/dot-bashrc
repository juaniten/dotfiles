# All the default Omarchy aliases and functions
# (don't mess with these directly, just overwrite them here!)
source ~/.local/share/omarchy/default/bash/rc

# Add your own exports, aliases, and functions here.
#
# Make an alias for invoking commands you use constantly
# alias p='python'

# Alias for bootstrapping arch with my dotfiles
alias bootstrap='ansible-playbook --ask-become-pass -i ~/.ansible-arch/inventory.ini ~/.ansible-arch/bootstrap.yml'



# ------------- 
# Doofinder
# -------------

export XAUTHORITY="$HOME/.Xauthority"

# Base path for Doofinder projects
DOOFINDER_PATH="/home/juan/Work/doofinder"

# Alias for megascript commands
alias mega.pr="$DOOFINDER_PATH/dfcommon/bin/megascript run pluginrangers -d"
alias mega.init="$DOOFINDER_PATH/dfcommon/bin/megascript init"
alias mega.update="$DOOFINDER_PATH/dfcommon/bin/megascript update"
alias mega.restoredb="$DOOFINDER_PATH/dfcommon/bin/megascript restoredb"
alias mega.stop="$DOOFINDER_PATH/dfcommon/bin/megascript stop"

# Alias for frp client
# alias frp="nohup $DOOFINDER_PATH/frp/frpc -c $DOOFINDER_PATH/frp/frpc.toml >/dev/null 2>&1 &
function frp {
  BASEDIR="$DOOFINDER_PATH/frp"
  (
    cd "$BASEDIR" || return 1
    nohup "$BASEDIR/frpc" -c "$BASEDIR/frpc.toml" >/dev/null 2>&1 &
  )
}


# Useful docker combo
boom() {
  docker compose down -v
  docker compose up -d "$@"
  docker compose logs -f "$@"
}

# Cursor 
cursor() {
    (nohup /usr/bin/cursor --no-sandbox "$@" > /dev/null 2>&1 &)
}

# Shell autocompletion for asdf
. <(asdf completion bash)
